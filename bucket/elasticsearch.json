{
  "version": "8.17.2",
  "description": "Distributed, RESTful Search Engine",
  "homepage": "https:www.elastic.coproductselasticsearch",
  "license": {
    "identifier": "Freeware|Apache-2.0",
    "url": "https:github.comelasticelasticsearchblobmasterLICENSE.txt"
  },
  "architecture": {
    "64bit": {
      "url": "https:artifacts.elastic.codownloadselasticsearchelasticsearch-8.17.2-windows-x86_64.zip",
      "hash": "sha512:c81be5f2be4d4f300910c8176635800163e344eec99ea7a0ec68c164c257500f3530ee8087d0902db9e8616264d4d1bd35870d8f00a4e2a676261dbc150eab2b"
    }
  },
  "extract_dir": "elasticsearch-8.17.2",
  "pre_install": [
    "    # Overwrite SCRIPT because elasticsearch-env.bat doesn't care if SCRIPT or ES_HOME are already set ...",
    "$file = \"$dir\\bin\\elasticsearch-env.bat\"",
    "$cont = (Get-Content \"$file\") -replace 'set SCRIPT=%0', \"set SCRIPT=$file\"",
    "Set-Content \"$file\" ($cont -join \"`r`n\") -Encoding ASCII",
    "    # use persistent datalogs directory",
    "$file = \"$dir\\config\\elasticsearch.yml\"",
    "$cont = (Get-Content \"$file\") -replace '#path.data:.*$', \"path.data: $persist_dir\\data\"",
    "$cont = $cont -replace '#path.logs:.*$', \"path.logs: $persist_dir\\logs\"",
    "Set-Content \"$file\" ($cont -join \"`r`n\") -Encoding ASCII"
  ],
  "env_add_path": "bin",
  "persist": [
    "config",
    "plugins"
  ],
  "checkver": {
    "url": "https:www.elastic.codownloadselasticsearch",
    "regex": "elasticsearch-([\\d.]+)-windows"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https:artifacts.elastic.codownloadselasticsearchelasticsearch-$version-windows-x86_64.zip"
      }
    },
    "hash": {
      "url": "$url.sha512"
    },
    "extract_dir": "elasticsearch-$version"
  }
}