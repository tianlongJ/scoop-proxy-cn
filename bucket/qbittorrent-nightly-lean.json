{
  "version": "13280096255",
  "description": "Free and reliable P2P Bittorent client.",
  "homepage": "https:github.comqbittorrentqBittorrent",
  "license": {
    "identifier": "GPL-2.0-only",
    "url": "https:github.comqbittorrentqBittorrentblobmasterCOPYING"
  },
  "architecture": {
    "64bit": {
      "url": "https:nightly.linkqbittorrentqBittorrentworkflowsci_windows.yamlmasterqBittorrent-CI_Windows-x64_libtorrent-2.0.11.zip",
      "hash": "fe0030658f19138033fde6f11f04ef90d5632aeae73dfae408646d78cc86ba6e",
      "extract_dir": "qBittorrent"
    }
  },
  "pre_install": [
    "Remove-Item \"$dirqbittorrent.pdb\"",
    "if ((!(Test-Path \"$persist_dirprofile\")) -and ((Test-Path \"$persist_dir..qbittorrent-portableprofile\") -or (Test-Path \"$env:APPDATAqBittorrent\"))) {",
    "    Write-Host 'Scoop is migrating qbittorrent to use portable mode by default.' -ForegroundColor Yellow",
    "    Write-Host 'For details, see: https:github.comScoopInstallerExtrasissues5845' -ForegroundColor Yellow",
    "    if ((Test-Path \"$persist_dir..qbittorrent-portableprofile\") -and (Test-Path \"$env:APPDATAqBittorrent\")) {",
    "        Write-Host 'Both portable and non-portable qBittorrent profile exist.' -ForegroundColor Yellow",
    "        Write-Host 'Scoop will prioritize and import the non-portable one.' -ForegroundColor Yellow",
    "    }",
    "    $null = New-Item \"$persist_dirprofile\" -ItemType Directory",
    "    if (Test-Path \"$env:APPDATAqBittorrent\") {",
    "        Write-Host 'Copying non-portable profile''s config and data to Scoop persist directory...' -ForegroundColor Yellow",
    "        $null = Copy-Item \"$env:APPDATAqBittorrent\" \"$persist_dirprofileqBittorrentconfig\" -Recurse",
    "        $null = Copy-Item \"$env:LOCALAPPDATAqBittorrent\" \"$persist_dirprofileqBittorrentdata\" -Recurse",
    "    } else {",
    "        Write-Host 'Copying portable profile's config and data to Scoop persist directory...' -ForegroundColor Yellow",
    "        Write-Host 'If you haven't setup an absolute download path before torrenting, please manually migrate affected torrents, as they use relative path by default for storaging.' -ForegroundColor Yellow",
    "        Write-Host 'Or you can move them to an absolute download path in qbittorrent-portable and cleanly (re)install qbittorrent to let migration script to take care of them.' -ForegroundColor Yellow",
    "        $null = Copy-Item \"$persist_dir..qbittorrent-portableprofileqBittorrentconfig\" \"$persist_dirprofileqBittorrentconfig\" -Recurse",
    "        $null = Copy-Item \"$persist_dir..qbittorrent-portableprofileqBittorrentdata\" \"$persist_dirprofileqBittorrentdata\" -Recurse",
    "    }",
    "}"
  ],
  "bin": "qbittorrent.exe",
  "shortcuts": [
    [
      "qbittorrent.exe",
      "qBittorrent"
    ]
  ],
  "persist": "profile",
  "checkver": {
    "script": [
      "try {",
      "    $null = (Invoke-WebRequest https:raw.githubusercontent.comqbittorrentqBittorrentmaster.githubworkflowsci_windows.yaml).Content -cmatch 'libt_version: \\[\"([\\d.]+)\", \"[\\d.]+\"\\]'",
      "    $Matches[1],",
      "    (Invoke-RestMethod 'https:api.github.comrepositories3351871actionsworkflowsci_windows.yamlruns?branch=master&status=success').workflow_runs[0].id -join ' '",
      "}",
      "catch { '' }"
    ],
    "regex": "\\A(?<libtorrent>[\\d.]+) (\\d+)\\Z"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https:nightly.linkqbittorrentqBittorrentworkflowsci_windows.yamlmasterqBittorrent-CI_Windows-x64_libtorrent-$matchLibtorrent.zip"
      }
    }
  }
}